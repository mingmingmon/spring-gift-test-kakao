# USING_AI.md - AI 활용 문서

## 1. 어떤 질문을 했는가

### Q1. 프로젝트 분석 및 핵심 행동 식별 요청

> "핵심 행동 식별을 해서 project-analysis.md라는 파일을 만들어줘.
> 프로젝트 구조, 계층 구조, 도메인 모델, 엔티티 정보, 사용 가능한 API,
> 프로젝트 내부적으로 이상한 점이나 결함이라고 의심되는 부분도 포함해줘"

- CLAUDE.md의 Step 1(핵심 행동 식별)을 수행하기 위한 사전 작업으로, 프로젝트 전체 분석을 먼저 요청
- 단순히 행동 목록만이 아니라, 프로젝트 구조와 결함까지 포함하도록 범위를 확장

### Q2. TEST_STRATEGY.md 작성 요청

> "지금까지의 내용으로 TEST_STRATEGY.md 작성해줘"

- project-analysis.md의 분석 결과를 기반으로, CLAUDE.md가 요구하는 테스트 전략 문서 작성을 요청

---

## 2. Claude의 제안을 어떻게 검증/수정했는가

### 2.1 핵심 행동 목록 수정

Claude는 최초 6개의 핵심 행동을 제안했다:

| # | Claude 원안 | 최종 |
|---|------------|------|
| 1 | 카테고리 생성 | 유지 |
| 2 | 상품 생성 | 유지 |
| 3 | 상품 조회 | 유지 |
| 4 | 선물하기 (재고 차감) | 유지 |
| 5 | 선물하기 실패 (재고 부족) | 유지 |
| 6 | 존재하지 않는 리소스 참조 시 실패 | **삭제** |

**수정 이유**: 6번 항목("존재하지 않는 리소스 참조 시 실패")은 별도의 핵심 행동으로 분리하기보다, 각 시나리오의 실패 케이스 안에서 자연스럽게 다루는 것이 적절하다고 판단하여 제거. 예를 들어 "존재하지 않는 카테고리로 상품 생성 실패"는 상품 생성 시나리오의 실패 케이스로 포함됨.

---

## 3. 최종적으로 사람이 선택한 설계 이유

### 3.1 분석 우선 접근

테스트 코드를 바로 작성하지 않고, 프로젝트 분석(project-analysis.md) → 전략 수립(TEST_STRATEGY.md) → 구현 순서로 진행하기로 결정했다.

이유:
- 레거시 코드의 결함과 제약을 먼저 파악해야 현실적인 테스트 전략을 세울 수 있음
- 분석 과정에서 발견한 `@RequestBody` 누락, API 미구현 등의 문제가 테스트 데이터 전략에 직접 영향을 줌

### 3.2 핵심 행동 5개로 축소

Claude가 제안한 6개에서 1개를 제거하여 5개로 확정했다. 범용적인 실패 시나리오를 독립 행동으로 분류하기보다, 각 행동의 실패 케이스로 통합하는 것이 CLAUDE.md의 "행동 기반" 원칙에 더 부합한다고 판단했다.

### 3.3 현재까지의 산출물

| 산출물 | 설명 | 상태 |
|--------|------|------|
| `project-analysis.md` | 프로젝트 구조, 도메인 모델, API, 결함 분석 | 완료 |
| `TEST_STRATEGY.md` | 검증할 행동, 시나리오, 데이터 전략, 의사결정 | 완료 |
| 인수 테스트 코드 | RestAssured 기반 행동 테스트 구현 | 미착수 |
